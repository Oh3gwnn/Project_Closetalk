<!DOCTYPE html>
  <html lang="ko" xmlns:th="http://www.thymeleaf.org" >
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" >
    <title>Closet Item Registration</title>
    <link rel="stylesheet" href="/static/css/closet/itemRegistration.css">
    <script src="http://code.jquery.com/jquery-3.4.1.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<section class="closet">

    <!-- header -->
    <header th:insert="~{header :: header}"></header>

    <div id="root">
      <div class="main_body">

        <div class="itemRegister_top">
            <div class="itemRegister_top_btn">
                <button class="itemRegister_top_btn_list">목록</button>
                <button type="submit" class="itemRegister_top_btn_regi">등록</button>
            </div>
        </div>

          <form action="/item/{closetName}" method="POST" enctype="multipart/form-data">

              <div class="itemRegister_middle">
                  <p>필수</p>
                  <p>closet 선택 창</p>
                  <select name="closetName" class="closet-select">
                      <option value="">== Closet ==</option>
                      <option value="closet1">my closet 1</option>
                      <option value="closet2">아우터 모음</option>
                      <option value="closet3">my closet 2</option>
<!--                      <th:block th:each="closet : ${closetList}">-->
<!--                          <option th:value="${closet.closetName}" th:text="${closet.closetName}">FAST</option>-->
<!--                      </th:block>-->
                  </select>
                  <div class="itemRegister_middle_category">
                      <p>카테고리 선택 창</p>
                      <select name="category" class="category-select">
                          <option value="">== Category ==</option>
                          <option value="OUTER">OUTER</option>
                          <option value="TOP">TOP</option>
                          <option value="BOTTOM">BOTTOM</option>
                          <option value="SHOES">SHOES</option>
                          <option value="ACC">ACC</option>
                          <option value="ETC">ETC</option>
                      </select>
                  </div>

                  <div class="itemRegister_middle_input">
                      <label for="brand">브랜드: </label><input type="text" id="brand" name="brand"><br>
                      <label for="price">가격: </label><input type="text" id="price" name="price"><br>
                      <label for="itemName">상품명: </label><input type="text" id="itemName" name="itemName"><br>
                      <label for="description">설명:</label><input type="text" id="description" name="description"><br>
                  </div>

                  <div class="itemRegister_middle_image">
                      <label for="itemImageUrl">이미지 업로드:</label>
                      <input type="file" id="itemImageUrl" name="itemImageUrl" onchange="previewImage(event)">
                  </div>
                  <div class="image-preview" style="display: none;">
                      <img id="preview" src="#" alt="Image Preview">
                  </div>
              </div>
          </form>
     </div>
    </div>

    <footer th:insert="~{footer :: footer}"></footer>

    <script>
        function previewImage(event) {
            const fileInput = event.target;
            const preview = document.getElementById('preview');
            const imagePreviewContainer = document.querySelector('.image-preview');

            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();

                reader.onload = function(e) {
                    preview.src = e.target.result;
                    imagePreviewContainer.style.display = 'block'; // Show the image preview container
                };

                reader.readAsDataURL(fileInput.files[0]);
            } else {
                preview.src = ''; // Clear the image if no file is selected
                imagePreviewContainer.style.display = 'none'; // Hide the image preview container
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

</section>
</body>
</html>